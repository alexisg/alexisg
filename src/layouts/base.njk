{%- set notHome = (page.url != '/') -%}
{%- set isHome = (page.url == '/') -%}

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>
      {% block title %}Alexis Gallis&aacute;{% endblock %}
    </title>
    <meta name="description" content="{% block description %}Design/front-end lead specializing in web/mobile design, CSS/SASS frameworks, responsive layouts, JS interactions, large site templating and content management system implementations.{% endblock %}">
    <meta name="viewport" content="width=device-width">

    <link rel="icon" href="/static/images/favicon.png"/>
    <link rel="apple-touch-icon" href="/static/images/apple-touch-icon.png"/>
    <link rel="stylesheet" href="https://use.typekit.net/bal5xca.css">
    <script>
      (function () {
        try {
          var key = 'theme';
          var stored = localStorage.getItem(key);
          var prefersDark = window.matchMedia && window
            .matchMedia('(prefers-color-scheme: dark)')
            .matches;
          var theme = stored || (
            prefersDark
            ? 'dark'
            : 'light');
          if (theme) {
            document
              .documentElement
              .setAttribute('data-theme', theme);
          }
        } catch (e) {
          if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document
              .documentElement
              .setAttribute('data-theme', 'dark');
          }
        }
      })();
    </script>
    <link rel="stylesheet" href="/static/css/theme.css"/>
    <link rel="stylesheet" href="/sass/alexis.css"/>
    {% block head_extra %}{% endblock %}
  </head>

  <body>

    {% include "sprite.svg" %}

    {% include "themepicker.njk" %}

    <div id="js-main" data-page="home">
      <div class="container">

        {% include "header.njk" %}

        {% block extra %}{% endblock %}

        <article>
          {% block nav %}
            {% include "nav.njk" %}
          {% endblock %}
          {{ content | safe }}
        </article>

        {% include "footer.njk" %}

      </div>
    </div>

    <script src="/static/js/tornis.es5.js"></script>
    <script src="/static/js/main.js"></script>
    <script src="/static/js/viewTransitions.js"></script>
    <script src="/static/js/themePicker.js"></script>

    {% block js_extra %}{% endblock %}

    <!-- =^.^= -->

  </body>
</html>